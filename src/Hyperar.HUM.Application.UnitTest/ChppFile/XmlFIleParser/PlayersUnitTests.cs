namespace Hyperar.HUM.Application.UnitTest.ChppFile.XmlFIleParser
{
    using System;
    using System.Threading;
    using System.Threading.Tasks;
    using Hyperar.HUM.Application.ChppFile.Download.Command.Interfaces;
    using Hyperar.HUM.Shared.Models.Chpp.Players;
    using Hyperar.HUM.Test.Shared;
    using Microsoft.Extensions.DependencyInjection;

    public class PlayersUnitTests : XmlFileParserBase, IClassFixture<ServicesFixture>
    {
        private const string PlayersOtherTeamView = "Assets\\Xml\\Players\\Players_OtherTeam_View.xml";

        private const string PlayersOtherTeamViewIncludeMatchInfo = "Assets\\Xml\\Players\\Players_OtherTeam_View_IncludeMatchInfo.xml";

        private const string PlayersOtherTeamViewOldCoaches = "Assets\\Xml\\Players\\Players_OtherTeam_ViewOldCoaches.xml";

        private const string PlayersOtherTeamViewOldCoachesIncludeMatchInfo = "Assets\\Xml\\Players\\Players_OtherTeam_ViewOldCoaches_IncludeMatchInfo.xml";

        private const string PlayersOtherTeamViewOldies = "Assets\\Xml\\Players\\Players_OtherTeam_ViewOldies.xml";

        private const string PlayersOtherTeamViewOldiesIncludeMatchInfo = "Assets\\Xml\\Players\\Players_OtherTeam_ViewOldies_IncludeMatchInfo.xml";

        private const string PlayersOwnTeamView = "Assets\\Xml\\Players\\Players_OwnTeam_View.xml";

        private const string PlayersOwnTeamViewIncludeMatchInfo = "Assets\\Xml\\Players\\Players_OwnTeam_View_IncludeMatchInfo.xml";

        private const string PlayersOwnTeamViewOldCoaches = "Assets\\Xml\\Players\\Players_OwnTeam_ViewOldCoaches.xml";

        private const string PlayersOwnTeamViewOldCoachesIncludeMatchInfo = "Assets\\Xml\\Players\\Players_OwnTeam_ViewOldCoaches_IncludeMatchInfo.xml";

        private const string PlayersOwnTeamViewOldies = "Assets\\Xml\\Players\\Players_OwnTeam_ViewOldies.xml";

        private const string PlayersOwnTeamViewOldiesIncludeMatchInfo = "Assets\\Xml\\Players\\Players_OwnTeam_ViewOldies_IncludeMatchInfo.xml";

        private readonly IXmlFileParser xmlFileParser;

        public PlayersUnitTests(ServicesFixture fixture)
        {
            this.xmlFileParser = fixture.Services.GetRequiredService<IXmlFileParser>();
        }

        [Fact]
        public async Task Players_OtherTeam_View_ShouldBeEqual()
        {
            var fileContent = await OpenFile(PlayersOtherTeamView);

            Assert.NotNull(fileContent);

            Assert.NotEmpty(fileContent);

            var cancellationTokenSource = new CancellationTokenSource();

            var result = (HattrickData)await this.xmlFileParser.ParseXmlFileAsync(fileContent, cancellationTokenSource.Token);

            Assert.NotNull(result);

            Assert.IsType<HattrickData>(result);

            var expected = new HattrickData(
                "players.xml",
                2.7m,
                13900623,
                new DateTime(2025, 5, 28, 12, 21, 1),
                "platinum",
                false,
                "view",
                false,
                new Team(
                    834283,
                    "Social Uruguayo",
                    [
                        new Player(
                            471472300,
                            "Adriano",
                            "",
                            "Ponzio",
                            100,
                            26,
                            70,
                            new DateTime(2022, 8, 27, 5, 34, 0),
                            "",
                            22180,
                            6,
                            "",
                            6,
                            20,
                            true,
                            4,
                            49300,
                            false,
                            3,
                            4,
                            3,
                            1,
                            0,
                            0,
                            25,
                            0,
                            147,
                            25,
                            9,
                            9,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            7,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            484927605,
                            "Alberto",
                            "",
                            "Enriquez",
                            100,
                            23,
                            45,
                            new DateTime(2024, 6, 7, 7, 0, 0),
                            "",
                            2110,
                            5,
                            "",
                            2,
                            20,
                            true,
                            5,
                            6500,
                            false,
                            2,
                            2,
                            1,
                            0,
                            0,
                            0,
                            1,
                            0,
                            19,
                            1,
                            1,
                            1,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            7,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            472103327,
                            "Antonio",
                            "",
                            "Eliese Cuesta",
                            100,
                            27,
                            80,
                            new DateTime(2022, 9, 24, 7, 41, 0),
                            "",
                            5150,
                            6,
                            "",
                            3,
                            20,
                            true,
                            2,
                            9900,
                            false,
                            1,
                            1,
                            2,
                            1,
                            0,
                            0,
                            7,
                            0,
                            63,
                            7,
                            1,
                            1,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            488598148,
                            "Arturo",
                            "",
                            "Penovi",
                            100,
                            21,
                            77,
                            new DateTime(2024, 12, 2, 2, 19, 0),
                            "",
                            1600,
                            6,
                            "",
                            2,
                            20,
                            true,
                            6,
                            4900,
                            false,
                            1,
                            1,
                            3,
                            0,
                            0,
                            0,
                            0,
                            0,
                            1,
                            0,
                            0,
                            0,
                            1,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            5,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            441635509,
                            "Augusto",
                            "",
                            "Scherneski",
                            100,
                            38,
                            38,
                            new DateTime(2019, 2, 11, 13, 21, 0),
                            "",
                            0,
                            5,
                            "",
                            6,
                            20,
                            true,
                            4,
                            2500,
                            false,
                            1,
                            4,
                            1,
                            0,
                            0,
                            0,
                            68,
                            5,
                            191,
                            68,
                            2,
                            2,
                            5,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            2,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            469131141,
                            "Bartolomeo",
                            "",
                            "Champagne",
                            100,
                            30,
                            106,
                            new DateTime(2022, 5, 7, 6, 13, 0),
                            "",
                            5010,
                            6,
                            "",
                            4,
                            20,
                            true,
                            5,
                            29400,
                            false,
                            2,
                            0,
                            2,
                            0,
                            0,
                            0,
                            7,
                            0,
                            102,
                            7,
                            1,
                            1,
                            1,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            5,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            470303870,
                            "Basil",
                            "",
                            "Arthur",
                            100,
                            30,
                            38,
                            new DateTime(2022, 7, 3, 1, 53, 0),
                            "",
                            5070,
                            6,
                            "",
                            6,
                            20,
                            true,
                            4,
                            7900,
                            false,
                            3,
                            2,
                            3,
                            0,
                            0,
                            0,
                            8,
                            0,
                            127,
                            8,
                            4,
                            4,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            477677885,
                            "Braian",
                            "",
                            "Meier",
                            100,
                            25,
                            76,
                            new DateTime(2023, 7, 3, 15, 29, 0),
                            "",
                            12290,
                            6,
                            "",
                            3,
                            20,
                            true,
                            2,
                            35900,
                            false,
                            4,
                            1,
                            3,
                            0,
                            0,
                            0,
                            0,
                            0,
                            62,
                            0,
                            0,
                            0,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            7,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            464821362,
                            "Brais",
                            "",
                            "Orta",
                            100,
                            31,
                            11,
                            new DateTime(2021, 12, 23, 11, 43, 0),
                            "",
                            120,
                            3,
                            "",
                            2,
                            20,
                            true,
                            6,
                            2800,
                            false,
                            0,
                            1,
                            1,
                            0,
                            0,
                            0,
                            0,
                            0,
                            8,
                            0,
                            0,
                            0,
                            3,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            4,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            423950697,
                            "Cancio",
                            "",
                            "Leguizamón",
                            100,
                            44,
                            109,
                            new DateTime(2017, 2, 2, 21, 21, 0),
                            "",
                            0,
                            5,
                            "",
                            10,
                            20,
                            false,
                            5,
                            3000,
                            true,
                            2,
                            0,
                            1,
                            0,
                            0,
                            0,
                            111,
                            5,
                            330,
                            111,
                            9,
                            9,
                            2,
                            false,
                            0,
                            67,
                            0,
                            0,
                            0,
                            -1,
                            1,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            467398735,
                            "Carlos",
                            "",
                            "Morini",
                            100,
                            27,
                            96,
                            new DateTime(2022, 3, 21, 14, 50, 0),
                            "",
                            6910,
                            5,
                            "",
                            4,
                            20,
                            true,
                            2,
                            20900,
                            false,
                            3,
                            2,
                            3,
                            2,
                            0,
                            0,
                            9,
                            0,
                            88,
                            9,
                            1,
                            1,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            399544300,
                            "Carlos Ramón",
                            "",
                            "Salas",
                            100,
                            54,
                            64,
                            new DateTime(2014, 9, 1, 5, 8, 0),
                            "",
                            0,
                            4,
                            "",
                            7,
                            20,
                            true,
                            4,
                            2500,
                            false,
                            1,
                            1,
                            3,
                            0,
                            0,
                            0,
                            43,
                            2,
                            246,
                            43,
                            1,
                            1,
                            5,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            1,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            470960367,
                            "Celso",
                            "",
                            "Obolo",
                            100,
                            28,
                            65,
                            new DateTime(2022, 7, 23, 4, 49, 0),
                            "",
                            330,
                            6,
                            "",
                            2,
                            20,
                            true,
                            5,
                            2700,
                            false,
                            0,
                            2,
                            2,
                            0,
                            0,
                            0,
                            0,
                            0,
                            6,
                            0,
                            0,
                            0,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            4,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            490179983,
                            "Ciro",
                            "",
                            "Kohn",
                            100,
                            20,
                            10,
                            new DateTime(2025, 1, 26, 15, 49, 0),
                            "",
                            780,
                            4,
                            "",
                            3,
                            20,
                            true,
                            4,
                            3700,
                            false,
                            2,
                            3,
                            1,
                            0,
                            1,
                            0,
                            1,
                            0,
                            6,
                            1,
                            0,
                            0,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            5,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            466082992,
                            "Claudio Javier",
                            "",
                            "Bosque",
                            100,
                            29,
                            60,
                            new DateTime(2022, 2, 28, 19, 53, 0),
                            "",
                            16760,
                            5,
                            "",
                            6,
                            20,
                            true,
                            4,
                            65000,
                            false,
                            3,
                            2,
                            1,
                            0,
                            1,
                            0,
                            14,
                            0,
                            141,
                            14,
                            3,
                            3,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            5,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            463371004,
                            "David",
                            "",
                            "Dellamea",
                            100,
                            36,
                            13,
                            new DateTime(2021, 10, 17, 14, 33, 0),
                            "",
                            10,
                            3,
                            "",
                            3,
                            20,
                            true,
                            3,
                            2500,
                            false,
                            0,
                            3,
                            4,
                            0,
                            0,
                            0,
                            1,
                            0,
                            39,
                            1,
                            0,
                            0,
                            3,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            3,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            470109382,
                            "David",
                            "",
                            "Prestía",
                            100,
                            27,
                            63,
                            new DateTime(2022, 6, 18, 5, 54, 0),
                            "",
                            3880,
                            5,
                            "",
                            3,
                            20,
                            true,
                            3,
                            5100,
                            false,
                            0,
                            0,
                            3,
                            0,
                            1,
                            0,
                            5,
                            0,
                            68,
                            5,
                            2,
                            2,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            470804792,
                            "David",
                            "",
                            "Schanz",
                            100,
                            27,
                            59,
                            new DateTime(2022, 7, 17, 2, 21, 0),
                            "",
                            13140,
                            5,
                            "",
                            6,
                            20,
                            true,
                            3,
                            22500,
                            false,
                            3,
                            3,
                            3,
                            0,
                            0,
                            0,
                            22,
                            0,
                            151,
                            22,
                            17,
                            17,
                            2,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            7,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            386368285,
                            "Diego Adrián",
                            "",
                            "Mercado",
                            100,
                            57,
                            16,
                            new DateTime(2013, 9, 16, 5, 5, 0),
                            "",
                            0,
                            6,
                            "",
                            6,
                            20,
                            true,
                            7,
                            2500,
                            false,
                            1,
                            4,
                            3,
                            0,
                            0,
                            0,
                            14,
                            0,
                            263,
                            14,
                            1,
                            1,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            1,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            471095114,
                            "Eugenio",
                            "",
                            "Francia",
                            100,
                            26,
                            73,
                            new DateTime(2022, 7, 30, 6, 21, 0),
                            "",
                            7630,
                            6,
                            "",
                            3,
                            20,
                            true,
                            3,
                            18500,
                            false,
                            2,
                            3,
                            2,
                            0,
                            0,
                            0,
                            6,
                            0,
                            92,
                            6,
                            0,
                            0,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            473130526,
                            "Fabricio",
                            "",
                            "Arra",
                            100,
                            25,
                            64,
                            new DateTime(2022, 11, 18, 12, 3, 0),
                            "",
                            8060,
                            8,
                            "",
                            4,
                            20,
                            true,
                            4,
                            10200,
                            false,
                            3,
                            2,
                            2,
                            1,
                            1,
                            0,
                            14,
                            0,
                            91,
                            14,
                            2,
                            2,
                            5,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            7,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            482148719,
                            "Fedor",
                            "",
                            "Fedyukov",
                            100,
                            22,
                            11,
                            new DateTime(2024, 2, 10, 3, 34, 0),
                            "",
                            6500,
                            5,
                            "",
                            2,
                            20,
                            true,
                            3,
                            21900,
                            false,
                            3,
                            2,
                            2,
                            0,
                            0,
                            0,
                            0,
                            0,
                            22,
                            0,
                            0,
                            0,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            470226437,
                            "Fernando Adrián",
                            "",
                            "Romeu",
                            100,
                            30,
                            89,
                            new DateTime(2022, 6, 26, 14, 2, 0),
                            "",
                            5690,
                            8,
                            "",
                            5,
                            20,
                            true,
                            4,
                            9400,
                            false,
                            2,
                            1,
                            2,
                            0,
                            0,
                            0,
                            7,
                            0,
                            136,
                            7,
                            12,
                            12,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            488770044,
                            "Guido",
                            "",
                            "Borgognone",
                            100,
                            20,
                            30,
                            new DateTime(2024, 12, 15, 18, 43, 0),
                            "",
                            3680,
                            7,
                            "",
                            3,
                            20,
                            true,
                            2,
                            5400,
                            false,
                            2,
                            4,
                            3,
                            2,
                            1,
                            0,
                            8,
                            0,
                            16,
                            8,
                            2,
                            2,
                            5,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            483905542,
                            "Guillermo Alfredo",
                            "",
                            "Salcedo",
                            100,
                            22,
                            58,
                            new DateTime(2024, 5, 12, 23, 8, 0),
                            "",
                            1770,
                            5,
                            "",
                            2,
                            20,
                            true,
                            5,
                            4900,
                            false,
                            1,
                            1,
                            3,
                            3,
                            1,
                            0,
                            4,
                            0,
                            15,
                            4,
                            0,
                            0,
                            5,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            485223227,
                            "Jefferson",
                            "",
                            "Zaldúa",
                            100,
                            24,
                            30,
                            new DateTime(2024, 6, 26, 23, 54, 0),
                            "",
                            120,
                            3,
                            "",
                            2,
                            20,
                            true,
                            5,
                            2500,
                            false,
                            2,
                            2,
                            3,
                            0,
                            0,
                            0,
                            0,
                            0,
                            3,
                            0,
                            0,
                            0,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            5,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            470136747,
                            "Jordy",
                            "",
                            "Velozo",
                            100,
                            26,
                            66,
                            new DateTime(2022, 6, 22, 12, 9, 0),
                            "",
                            28520,
                            8,
                            "",
                            6,
                            20,
                            false,
                            4,
                            37080,
                            true,
                            2,
                            2,
                            1,
                            3,
                            1,
                            0,
                            29,
                            1,
                            160,
                            29,
                            19,
                            19,
                            4,
                            false,
                            0,
                            22,
                            0,
                            0,
                            0,
                            -1,
                            7,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            485453452,
                            "José Raúl",
                            "",
                            "Muñaco",
                            100,
                            21,
                            5,
                            new DateTime(2024, 7, 8, 0, 6, 0),
                            "",
                            5820,
                            7,
                            "",
                            2,
                            20,
                            true,
                            5,
                            7700,
                            false,
                            0,
                            1,
                            2,
                            0,
                            0,
                            0,
                            1,
                            0,
                            20,
                            1,
                            1,
                            1,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            6,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            491715327,
                            "Juan",
                            "",
                            "Zabala",
                            100,
                            19,
                            34,
                            new DateTime(2025, 4, 30, 13, 41, 0),
                            "",
                            700,
                            4,
                            "",
                            2,
                            20,
                            true,
                            2,
                            3600,
                            false,
                            1,
                            0,
                            2,
                            0,
                            0,
                            0,
                            0,
                            0,
                            1,
                            0,
                            0,
                            0,
                            4,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            5,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                        new Player(
                            478789343,
                            "Juan Camilo",
                            "",
                            "Enrique",
                            100,
                            23,
                            101,
                            new DateTime(2023, 8, 29, 22, 49, 0),
                            "",
                            180,
                            4,
                            "",
                            1,
                            20,
                            true,
                            5,
                            2500,
                            false,
                            3,
                            2,
                            3,
                            0,
                            0,
                            0,
                            0,
                            0,
                            0,
                            0,
                            0,
                            0,
                            0,
                            false,
                            0,
                            7,
                            0,
                            0,
                            0,
                            -1,
                            5,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null),
                    ]
                ));

            var expectedJson = Newtonsoft.Json.JsonConvert.SerializeObject(expected);
            var resultJson = Newtonsoft.Json.JsonConvert.SerializeObject(result);

            Assert.Equal(expected, result);
        }
    }
}